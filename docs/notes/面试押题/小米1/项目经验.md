## 详细介绍你简历上最引以为傲的一个OMS/OFS项目。（准备2分钟的精炼陈述）

花西子项目，在这个项目中，我们完成了两个大事：

1. 数据出塔方案。

2. 半个月的时间来压测调优。调优的方向包括：

> - SQL优化：索引优化，避免循环中查询，批处理，隔离级别降级到RC，库存事务优化（量少才开启事务）。
> - 缓存优化：引入本地缓存（如Caffeine）对系统配置等高频访问数据进行缓存。
> - 其他优化：各种连接配置统一规则，能用内网用内网，避免公网访问。
> - 代码优化：由于大促时期，各方系统都存在压力，有时候我们自己没什么问题，但是对方系统却有压力，导致接口响应很慢，甚至拖垮我们的服务，因此我们做了一个简单的降级功能，如果对方的接口在一次任务中响应大部分很慢，那么我们会在redis里存一个标记，下次执行接口调用时，我们如果检查到这个标记就会禁用多线程推送api，单线程处理，这样便不担心被别人拖垮了。


## 你在简历中提到的“Redis Lua脚本实现库存原子性修改”，请详细说明：

为什么要用Lua脚本？不用会有什么问题？（库存超卖）

除了Lua，还有哪些方案能保证原子性？（分布式锁、CAS）


## 你的“多层库存模型”（物理、逻辑、渠道、店铺）是如何设计的？ 如何保证各层数据的一致性？



## 讲一个你处理过的线上性能问题或生产故障。 你是怎么排查、定位、解决和复盘的吗？

漏单，倒序


